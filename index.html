<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distania Travel Group</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="panel-frame">
    <!-- Startup Exposition Screen -->
    <div id="startupScreen" class="screen">
      <h1>Exodus Civil Service</h1>
      <p style="max-width: 700px; line-height:1.3;">
        Welcome recruit to the Exodus Civil Service or ECS. We work for the unified governments to explore the mega structures that arrived during the Kilko disaster. We must discover who built them, their purpose, how old they are, and most importantly, why they are here. God luck explorer, your ship is waiting. When you get there press the On button to begin.
      </p>
      <p style="font-style: italic; margin-top:.5rem;">â€“ Chief Clair</p>
      <button id="proceedBtn" class="btn">Acknowledge</button>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen hidden">
      <h1>Distania Travel Group</h1>
      <p>Your journey is our guarantee</p>
      <button id="onBtn" class="btn">On</button>
    </div>

    <!-- Travel Console Screen -->
    <div id="travelScreen" class="screen hidden">
      <div class="console">
        <!-- Destination selection panel -->
        <div class="panel dest-list">
          <h2>Select Destination</h2>
          <!-- Buttons generated by JS -->
        </div>
        <!-- Navigation log panel -->
        <div class="panel">
          <h2>Navigation Log</h2>
          <div id="log" class="log"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const startupScreen = document.getElementById('startupScreen');
    const loginScreen = document.getElementById('loginScreen');
    const travelScreen = document.getElementById('travelScreen');
    const proceedBtn = document.getElementById('proceedBtn');
    const onBtn = document.getElementById('onBtn');
    const destList = document.querySelector('.dest-list');
    const logEl = document.getElementById('log');
    let traveling = false;
    let currentLocation = null;

    // Main destinations
    const mainDestinations = [
      { name: "Earth", key: "Earth" },
      { name: "Mars Colony Alpha", key: "Mars" },
      { name: "Jupiter Orbital Station", key: "Jupiter" },
      { name: "Europa Research Base", key: "Europa" },
      { name: "Andromeda Outpost", key: "Andromeda" },
      { name: "Vega Prime", key: "Vega" },
    ];

    // Orbital descriptions for main destinations
    const orbitalDescriptions = {
      Earth: "Orbiting Earth, the fractured home of humanity. The once-beautiful world lies in ruins due to the Kilko disaster; arms of an unimaginably large mega-structure jut into the planet and lead into the endless void, their origin yet to be determined.",
      Mars: "Orbiting Mars Colony Alpha, a sprawling network of habitats and terraforming stations.",
      Jupiter: "Orbiting the Jupiter Orbital Station, home to enormous energy collectors and the nerve center for outer system logistics.",
      Europa: "Orbiting Europa Research Base, a scientific station monitoring the icy moon's hidden ocean.",
      Andromeda: "Orbiting the Andromeda Outpost, a forward base for deep space exploration beyond the solar system.",
      Vega: "Orbiting Vega Prime, a vibrant star system hub with bustling orbital trade rings."
    };

    // Earth sub-destinations
    const earthSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "New York Sector", key: "NewYork" },
      { name: "Earth Space Port", key: "EarthSpacePort" },
      { name: "Pacific Research Facility", key: "Pacific" },
    ];

    // Europa sub-destinations
    const europaSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Research Base", key: "ResearchBase" },
      { name: "Ground Camp", key: "GroundCamp" },
      { name: "Ruins", key: "Ruins" },
    ];

    // Mars sub-destinations
    const marsSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Terraforming Fields", key: "TerraformingFields" },
      { name: "Ancient Vault", key: "AncientVault" },
    ];

    // Jupiter sub-destinations
    const jupiterSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Storm Observatory", key: "StormObservatory", type: "shuttle" },
      { name: "Gas Harvesting Platform", key: "GasHarvester", type: "shuttle" },
      { name: "Research Array", key: "ResearchArray", type: "drone" },
      { name: "Deep Core Relay", key: "CoreRelay", type: "shuttle" },
      { name: "Excavation Platforms", key: "ExcavationPlatforms", type: "shuttle" },
    ];

    // Vega sub-destinations with travel type for each
    const vegaSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Capital City", key: "CapitalCity", type: "shuttle" },
      { name: "Orbital Trade Ring", key: "OrbitalTradeRing", type: "orbit" },
      { name: "Stellar Observation Spire", key: "StellarObservationSpire", type: "orbit" },
      { name: "Crystal Canyon Outpost", key: "CrystalCanyonOutpost", type: "shuttle" },
    ];

    // Sector descriptions
    const earthSectorDescriptions = {
      NewYork: "A massive sprawling city, it's a far cry from the concrete jungle of old and has been significantly expanded to let the city breathe fresh air. It remains a popular tourist destination even in the age of space, and the exploration of the nearby Torta structures fuels the city with money.",
      EarthSpacePort: "A medium sized structure space port wise, it still is massive and almost a mini city. Once upon a time it fueled the red war and the capture of the Minerva Object from hostile local wildlife on Europa. Its ancient defensive battlements gather dust as they lay in wait for a chance to finally prove themselves in a war long over. The space port in modern day is a large cargo and civilian port mostly taking on imports for the various mega cities that remain on Earth after the Kilko disaster.",
      Pacific: "This massive floating research base takes in artifacts from the many structures that now call Earth home. This research base also studies the objects from the now hundreds of structures across the solar system and beyond. The clean white halls and blue halls hide the many experiments and studies going on deep within the facility."
    };

    const europaSectorDescriptions = {
      ResearchBase: "The Europa Research Base is a hub of scientific activity, studying the moon's ice-covered crust and its hidden ocean beneath. Researchers here work tirelessly to uncover secrets that could unlock new technologies or threats.",
      GroundCamp: "A rugged outpost established on Europa's frozen surface, the Ground Camp supports field teams venturing into the unknown. Harsh weather and shifting ice make it a challenging but crucial foothold.",
      Ruins: "A large ancient mega structure rests beneath the frozen ice and water of Europa. What was once thought to be a water moon appears to be a mega structure that has gathered billions of years of ice and water to hide itself. Who made it and why remains a mystery."
    };

    const marsSectorDescriptions = {
      ColonyCore: "The beating heart of the mainstay colony; this core holds ancient fusion reactors that power the hope for a return to a green and hopeful Mars of tomorrow.",
      TerraformingFields: "The Terraforming Fields are vast areas where climate engineers work to make Mars more hospitable. The machinery hums constantly, turning dust and ice into a future paradise.",
      AncientVault: "An ancient vault carved deep into Martian rock, rumored to hold relics from a forgotten civilization or secrets to Mars' past. During the Kilko disaster it emerged from the rock and decimated the surface, then turned back time and turned Mars red for the first time in centuries. Millions died as most cities were not protected when the atmosphere disappeared."
    };

    const jupiterSectorDescriptions = {
      StormObservatory: "The Storm Observatory monitors Jupiter's raging atmospheric phenomena, using reinforced platforms to stay above the worst of the storms.",
      GasHarvester: "Floating harvesting platforms extract and process volatile gases from the upper layers, feeding fuel depots across the system.",
      ResearchArray: "A network of drone-deployed sensor nodes studying Jovian magnetospheres and particle flux in real time.",
      CoreRelay: "Deep Core Relay acts as a communications and energy relay sunk into layers just below the visible cloud decks, stabilizing long-range links.",
      ExcavationPlatforms: "These platforms facilitate the exploration and excavation of a massive ring-like mega structure beneath Jupiter's gas layers."
    };

    const vegaSectorDescriptions = {
      CapitalCity: "The bustling capital city of Vega Prime, filled with towering skyscrapers and vibrant markets; its neon lights make the city never seem asleep as people work day in and day out. Vega Prime was one of the few places not decimated by the Kilko disaster.",
      OrbitalTradeRing: "The Orbital Trade Ring is a sprawling complex of space docks and trade hubs circling Vega Prime, vital for commerce and defense.",
      StellarObservationSpire: "A towering spire used by astronomers and scientists to study stellar phenomena in deep space. This spire was the first to detect and expose the massive mega structures surrounding the Sol system; they had been hidden by the darkness of space, and this discovery began a race to uncover their secrets.",
      CrystalCanyonOutpost: "A remote outpost nestled in the beautiful but treacherous Crystal Canyon. Gems of all kinds are mined here and shipped everywhere to be used in anything from phones and spaceships to wedding rings."
    };

    // Cache sub-destination keys for group checks
    const earthKeys = earthSubDestinations.map(d => d.key);
    const europaKeys = europaSubDestinations.map(d => d.key);
    const marsKeys = marsSubDestinations.map(d => d.key);
    const jupiterKeys = jupiterSubDestinations.map(d => d.key);
    const vegaKeys = vegaSubDestinations.map(d => d.key);

    function isSubDestination(key, arr) {
      return arr.some(d => d.key === key);
    }

    function createButtons(destinations) {
      destList.innerHTML = '<h2>Select Destination</h2>';
      destinations.forEach(dest => {
        const btn = document.createElement('button');
        btn.textContent = dest.name;
        btn.dataset.dest = dest.key;
        destList.appendChild(btn);

        btn.addEventListener('click', () => {
          if (traveling) return;

          if (dest.key === 'Return') {
            currentLocation = null;
            populateDestinations(mainDestinations);
            appendLog("System: Returning to ship. Please select a destination.");
            return;
          }

          // Earth submenu
          if (dest.key === 'Earth') {
            currentLocation = 'EarthHub';
            appendLog(`System: ${orbitalDescriptions.Earth}`);
            populateDestinations(earthSubDestinations);
            appendLog("System: Accessing Earth sectors. Select your sub-destination.");
            return;
          }

          // Europa submenu
          if (dest.key === 'Europa') {
            currentLocation = 'EuropaHub';
            appendLog(`System: ${orbitalDescriptions.Europa}`);
            populateDestinations(europaSubDestinations);
            appendLog("System: Accessing Europa sectors. Select your sub-destination.");
            return;
          }

          // Mars submenu
          if (dest.key === 'Mars') {
            currentLocation = 'MarsHub';
            appendLog(`System: ${orbitalDescriptions.Mars}`);
            populateDestinations(marsSubDestinations);
            appendLog("System: Accessing Mars sectors. Select your sub-destination.");
            return;
          }

          // Jupiter submenu
          if (dest.key === 'Jupiter') {
            currentLocation = 'JupiterHub';
            appendLog(`System: ${orbitalDescriptions.Jupiter}`);
            populateDestinations(jupiterSubDestinations);
            appendLog("System: Accessing Jupiter sectors. Select your sub-destination.");
            return;
          }

          // Vega submenu
          if (dest.key === 'Vega') {
            currentLocation = 'VegaHub';
            appendLog(`System: ${orbitalDescriptions.Vega}`);
            populateDestinations(vegaSubDestinations);
            return;
          }

          // Earth sub-destination travel (train)
          if (
            (currentLocation === 'EarthHub' || earthKeys.includes(currentLocation)) &&
            earthKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            appendLog(`System: Boarding the train to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (earthSectorDescriptions[dest.key]) {
                appendLog(earthSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);
            return;
          }

          // Europa sub-destination travel (rover only for Research Base)
          if (
            (currentLocation === 'EuropaHub' || europaKeys.includes(currentLocation)) &&
            europaKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            if (dest.key === 'ResearchBase') {
              appendLog(`System: Boarding the rover to ${dest.name}...`);
              setTimeout(() => {
                appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
                if (europaSectorDescriptions[dest.key]) {
                  appendLog(europaSectorDescriptions[dest.key]);
                }
                traveling = false;
                currentLocation = dest.key;
                allButtons.forEach(b => b.disabled = false);
              }, 3000);
            } else {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (europaSectorDescriptions[dest.key]) {
                appendLog(europaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }
            return;
          }

          // Mars sub-destination travel (shuttle)
          if (
            (currentLocation === 'MarsHub' || marsKeys.includes(currentLocation)) &&
            marsKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            appendLog(`System: Boarding the shuttle to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (marsSectorDescriptions[dest.key]) {
                appendLog(marsSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);
            return;
          }

          // Jupiter sub-destination travel
          if (
            (currentLocation === 'JupiterHub' || jupiterKeys.includes(currentLocation)) &&
            jupiterKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            const destinationObj = jupiterSubDestinations.find(d => d.key === dest.key);
            const travelType = destinationObj?.type || 'shuttle';

            if (travelType === 'drone') {
              appendLog(`System: Deploying the drone to ${dest.name}...`);
              setTimeout(() => {
                appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
                if (jupiterSectorDescriptions[dest.key]) {
                  appendLog(jupiterSectorDescriptions[dest.key]);
                }
                traveling = false;
                currentLocation = dest.key;
                allButtons.forEach(b => b.disabled = false);
              }, 2000);
            } else {
              appendLog(`System: Boarding the shuttle to ${dest.name}...`);
              setTimeout(() => {
                appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
                if (jupiterSectorDescriptions[dest.key]) {
                  appendLog(jupiterSectorDescriptions[dest.key]);
                }
                traveling = false;
                currentLocation = dest.key;
                allButtons.forEach(b => b.disabled = false);
              }, 3000);
            }
            return;
          }

          // Vega sub-destination travel
          if (
            (currentLocation === 'VegaHub' || vegaKeys.includes(currentLocation)) &&
            vegaKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            const destinationObj = vegaSubDestinations.find(d => d.key === dest.key);
            const travelType = destinationObj?.type || 'shuttle';

            if (travelType === 'orbit') {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (vegaSectorDescriptions[dest.key]) {
                appendLog(vegaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
              return;
            }

            const travelVerb = travelType === 'rover' ? 'rover' : 'shuttle';
            appendLog(`System: Boarding the ${travelVerb} to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (vegaSectorDescriptions[dest.key]) {
                appendLog(vegaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);
            return;
          }

          // MAIN DESTINATION zero-point travel ONLY
          traveling = true;
          const allButtons = destList.querySelectorAll('button');
          allButtons.forEach(b => {
            b.disabled = true;
            b.classList.remove('selected');
          });
          btn.classList.add('selected');

          appendLog(`System: Initiating zero-point travel to ${dest.name}...`);

          setTimeout(() => {
            appendLog(`System: Zero-point travel finished, welcome to ${dest.name}. Enjoy your expedition.`);
            traveling = false;
            currentLocation = dest.key;
            allButtons.forEach(b => b.disabled = false);
          }, 3000);
        });
      });
    }

    function appendLog(text) {
      const line = document.createElement('div');
      line.textContent = text;
      logEl.appendChild(line);
      logEl.scrollTop = logEl.scrollHeight;
    }

    // Startup flow: go to login screen
    proceedBtn.addEventListener('click', () => {
      startupScreen.classList.add('hidden');
      loginScreen.classList.remove('hidden');
    });

    // On button click: show travel console and load main destinations
    onBtn.addEventListener('click', () => {
      loginScreen.classList.add('hidden');
      travelScreen.classList.remove('hidden');
      appendLog('System: Welcome, Captain. Please select a destination.');
      populateDestinations(mainDestinations);
    });

    function populateDestinations(destinations) {
      createButtons(destinations);
    }
  </script>
</body>
</html>
