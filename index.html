<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distania Travel Group</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="panel-frame">
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
      <h1>Distania Travel Group</h1>
      <p>Your journey is our guarantee</p>
      <button id="onBtn" class="btn">On</button>
    </div>

    <!-- Travel Console Screen -->
    <div id="travelScreen" class="screen hidden">
      <div class="console">
        <!-- Destination selection panel -->
        <div class="panel dest-list">
          <h2>Select Destination</h2>
        </div>
        <!-- Navigation log panel -->
        <div class="panel">
          <h2>Navigation Log</h2>
          <div id="log" class="log"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const loginScreen = document.getElementById('loginScreen');
    const travelScreen = document.getElementById('travelScreen');
    const onBtn = document.getElementById('onBtn');
    const destList = document.querySelector('.dest-list');
    const logEl = document.getElementById('log');
    let traveling = false;
    let currentLocation = null;

    const mainDestinations = [
      { name: "Earth Command Center", key: "Earth" },
      { name: "Mars Colony Alpha", key: "Mars" },
      { name: "Jupiter Orbital Station", key: "Jupiter" },
      { name: "Europa Research Base", key: "Europa" },
      { name: "Andromeda Outpost", key: "Andromeda" },
      { name: "Vega Prime", key: "Vega" },
    ];

    const earthSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "New York Sector", key: "NewYork" },
      { name: "Earth Space Port", key: "EarthSpacePort" },
      { name: "Pacific Research Facility", key: "Pacific" },
    ];

    const europaSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Research Base", key: "ResearchBase" },
      { name: "Ground Camp", key: "GroundCamp" },
      { name: "Ruins", key: "Ruins" },
    ];

    const earthSectorDescriptions = {
      NewYork: "A massive sprawling city, it's a far cry from the concrete jungle of old and has been significantly expanded to let the city breathe fresh air. It remains a popular tourist destination even in the age of space, and the exploration of the nearby Torta structures fuels the city with money.",
      EarthSpacePort: "A medium sized structure space port wise, it still is massive and almost a mini city. Once upon a time it fueled the red war and the capture of the Minerva Object from hostile local wildlife on Europa. Its ancient defensive battlements gather dust as they lay in wait for a chance to finally prove themselves in a war long over. The space port in modern day is a large cargo and civilian port mostly taking on imports for the various mega cities that remain on Earth after the Kilko disaster.",
      Pacific: "This massive floating research base takes in artifacts from the many structures that now call Earth home. This research base also studies the objects from the now hundreds of structures across the solar system and beyond. The clean white halls and blue halls hide the many experiments and studies going on deep within the facility."
    };

    const europaSectorDescriptions = {
      ResearchBase: "The europan research base is the main focal point of research on the mega structure, tens of thousands of people call this mini city home and work day in and day out to advance our understanding of the europan mega structure",
      GroundCamp: "Surviving on the surface of europa has never been easy, this camp is built around a entrance to the europan mega structure as they actively try to bypass the asncient security systems",
      Ruins: "The ruins beneath europa suggest the moon itself is a frozen over mega structure, ancient entrances have been found but have yet to be opened, the darkness beneath the ice is the mega structure, ongoing attempts at getting inside continue to this day."
    };

    function isSubDestination(key, array) {
      return array.some(d => d.key === key);
    }

    function createButtons(destinations) {
      destList.innerHTML = '<h2>Select Destination</h2>';
      destinations.forEach(dest => {
        const btn = document.createElement('button');
        btn.textContent = dest.name;
        btn.dataset.dest = dest.key;
        destList.appendChild(btn);

        btn.addEventListener('click', () => {
          if (traveling) return;

          if (dest.key === 'Return') {
            currentLocation = null;
            populateDestinations(mainDestinations);
            appendLog("System: Returning to ship. Please select a destination.");
            return;
          }

          if (dest.key === 'Earth') {
            currentLocation = 'EarthHub';
            populateDestinations(earthSubDestinations);
            appendLog("System: Accessing Earth sectors. Select your sub-destination.");
            return;
          }

          if (dest.key === 'Europa') {
            currentLocation = 'EuropaHub';
            populateDestinations(europaSubDestinations);
            appendLog("System: Accessing Europa sectors. Select your sub-destination.");
            return;
          }

          // Earth train travel between subs
          if (
            isSubDestination(currentLocation, earthSubDestinations) &&
            isSubDestination(dest.key, earthSubDestinations)
          ) {
            startTravel(dest, 'train', earthSectorDescriptions);
            return;
          }

          // Europa rover travel between subs
          if (
            isSubDestination(currentLocation, europaSubDestinations) &&
            isSubDestination(dest.key, europaSubDestinations)
          ) {
            startTravel(dest, 'rover', europaSectorDescriptions);
            return;
          }

          // Normal zero-point travel
          startTravel(dest, 'zero');
        });
      });
    }

    function startTravel(dest, type, descriptions = {}) {
      traveling = true;
      const allButtons = destList.querySelectorAll('button');
      allButtons.forEach(b => {
        b.disabled = true;
        b.classList.remove('selected');
      });
      const btn = [...allButtons].find(b => b.dataset.dest === dest.key);
      if (btn) btn.classList.add('selected');

      const vehicle = {
        train: "Boarding the train",
        rover: "Boarding the rover",
        zero: "Initiating zero-point travel"
      }[type];

      appendLog(`System: ${vehicle} to ${dest.name}...`);

      setTimeout(() => {
        appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
        if (descriptions[dest.key]) {
          appendLog(descriptions[dest.key]);
        }
        traveling = false;
        currentLocation = dest.key;
        allButtons.forEach(b => b.disabled = false);
      }, 3000);
    }

    function appendLog(text) {
      const line = document.createElement('div');
      line.textContent = text;
      logEl.appendChild(line);
      logEl.scrollTop = logEl.scrollHeight;
    }

    function populateDestinations(destinations) {
      createButtons(destinations);
    }

    onBtn.addEventListener('click', () => {
      loginScreen.classList.add('hidden');
      travelScreen.classList.remove('hidden');
      appendLog("System: Welcome, Captain. Please select a destination.");
      populateDestinations(mainDestinations);
    });
  </script>
</body>
</html>
