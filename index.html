<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distania Travel Group</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="panel-frame">
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
      <h1>Distania Travel Group</h1>
      <p>Your journey is our guarantee</p>
      <button id="onBtn" class="btn">On</button>
    </div>

    <!-- Travel Console Screen -->
    <div id="travelScreen" class="screen hidden">
      <div class="console">
        <!-- Destination selection panel -->
        <div class="panel dest-list">
          <h2>Select Destination</h2>
          <!-- Buttons generated by JS -->
        </div>
        <!-- Navigation log panel -->
        <div class="panel">
          <h2>Navigation Log</h2>
          <div id="log" class="log"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const loginScreen = document.getElementById('loginScreen');
    const travelScreen = document.getElementById('travelScreen');
    const onBtn = document.getElementById('onBtn');
    const destList = document.querySelector('.dest-list');
    const logEl = document.getElementById('log');
    let traveling = false;
    let currentLocation = null;

    // Main destinations
    const mainDestinations = [
      { name: "Earth Command Center", key: "Earth" },
      { name: "Mars Colony Alpha", key: "Mars" },
      { name: "Jupiter Orbital Station", key: "Jupiter" },
      { name: "Europa Research Base", key: "Europa" },
      { name: "Andromeda Outpost", key: "Andromeda" },
      { name: "Vega Prime", key: "Vega" },
    ];

    // Orbital descriptions for main destinations
    const orbitalDescriptions = {
      Earth: "Orbiting Earth Command Center, a massive hub controlling interplanetary travel and defense.",
      Mars: "Orbiting Mars Colony Alpha, a sprawling network of habitats and terraforming stations.",
      Jupiter: "Orbiting the Jupiter Orbital Station, the largest space station in the system, serving as a trade and military outpost.",
      Europa: "Orbiting Europa Research Base, a scientific station monitoring the icy moon's hidden ocean.",
      Andromeda: "Orbiting the Andromeda Outpost, a forward base for deep space exploration beyond the solar system.",
      Vega: "Orbiting Vega Prime, a vibrant star system hub with bustling orbital trade rings."
    };

    // Earth sub-destinations
    const earthSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "New York Sector", key: "NewYork" },
      { name: "Earth Space Port", key: "EarthSpacePort" },
      { name: "Pacific Research Facility", key: "Pacific" },
    ];

    // Europa sub-destinations
    const europaSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Research Base", key: "ResearchBase" },
      { name: "Ground Camp", key: "GroundCamp" },
      { name: "Ruins", key: "Ruins" },
    ];

    // Mars sub-destinations
    const marsSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Terraforming Fields", key: "TerraformingFields" },
      { name: "Ancient Vault", key: "AncientVault" },
    ];

    // Vega sub-destinations with travel type for each
    // travelType can be 'orbit', 'shuttle', or 'rover'
    const vegaSubDestinations = [
      { name: "Return to Ship", key: "Return" },
      { name: "Capital City", key: "CapitalCity", type: "shuttle" },
      { name: "Orbital Trade Ring", key: "OrbitalTradeRing", type: "orbit" },
      { name: "Stellar Observation Spire", key: "StellarObservationSpire", type: "orbit" },
      { name: "Crystal Canyon Outpost", key: "CrystalCanyonOutpost", type: "shuttle" },
    ];

    // Sector descriptions
    const earthSectorDescriptions = {
      NewYork: "A massive sprawling city, it's a far cry from the concrete jungle of old and has been significantly expanded to let the city breathe fresh air. It remains a popular tourist destination even in the age of space, and the exploration of the nearby Torta structures fuels the city with money.",
      EarthSpacePort: "A medium sized structure space port wise, it still is massive and almost a mini city. Once upon a time it fueled the red war and the capture of the Minerva Object from hostile local wildlife on Europa. Its ancient defensive battlements gather dust as they lay in wait for a chance to finally prove themselves in a war long over. The space port in modern day is a large cargo and civilian port mostly taking on imports for the various mega cities that remain on Earth after the Kilko disaster.",
      Pacific: "This massive floating research base takes in artifacts from the many structures that now call Earth home. This research base also studies the objects from the now hundreds of structures across the solar system and beyond. The clean white halls and blue halls hide the many experiments and studies going on deep within the facility."
    };

    const europaSectorDescriptions = {
      ResearchBase: "The Europa Research Base is a hub of scientific activity, studying the moon's ice-covered crust and its hidden ocean beneath. Researchers here work tirelessly to uncover secrets that could unlock new technologies or threats.",
      GroundCamp: "A rugged outpost established on Europa's frozen surface, the Ground Camp supports field teams venturing into the unknown. Harsh weather and shifting ice make it a challenging but crucial foothold.",
      Ruins: "Ancient, mysterious ruins scattered beneath the ice hint at a long-lost civilization or alien presence. The Ruins are a focal point for exploration but also for potential danger."
    };

    const marsSectorDescriptions = {
      TerraformingFields: "The Terraforming Fields are vast areas where climate engineers work to make Mars more hospitable. The machinery hums constantly, turning dust and ice into a future paradise.",
      AncientVault: "An ancient vault carved deep into Martian rock, rumored to hold relics from a forgotten civilization or secrets to Mars' past."
    };

    const vegaSectorDescriptions = {
      CapitalCity: "The bustling capital city of Vega Prime, filled with towering skyscrapers and vibrant markets.",
      OrbitalTradeRing: "The Orbital Trade Ring is a sprawling complex of space docks and trade hubs circling Vega Prime, vital for commerce and defense.",
      StellarObservationSpire: "A towering spire used by astronomers and scientists to study stellar phenomena in deep space.",
      CrystalCanyonOutpost: "A remote outpost nestled in the beautiful but treacherous Crystal Canyon, home to scientists and miners."
    };

    // Cache sub-destination keys for group checks
    const earthKeys = earthSubDestinations.map(d => d.key);
    const europaKeys = europaSubDestinations.map(d => d.key);
    const marsKeys = marsSubDestinations.map(d => d.key);
    const vegaKeys = vegaSubDestinations.map(d => d.key);

    function isSubDestination(key, arr) {
      return arr.some(d => d.key === key);
    }

    function createButtons(destinations) {
      destList.innerHTML = '<h2>Select Destination</h2>';
      destinations.forEach(dest => {
        const btn = document.createElement('button');
        btn.textContent = dest.name;
        btn.dataset.dest = dest.key;
        destList.appendChild(btn);

        btn.addEventListener('click', () => {
          if (traveling) return;

          if (dest.key === 'Return') {
            currentLocation = null;
            populateDestinations(mainDestinations);
            appendLog("System: Returning to ship. Please select a destination.");
            return;
          }

          // Earth submenu
          if (dest.key === 'Earth') {
            currentLocation = 'EarthHub';
            appendLog(`System: Orbiting Earth Command Center. ${orbitalDescriptions.Earth}`);
            populateDestinations(earthSubDestinations);
            appendLog("System: Accessing Earth sectors. Select your sub-destination.");
            return;
          }

          // Europa submenu
          if (dest.key === 'Europa') {
            currentLocation = 'EuropaHub';
            appendLog(`System: Orbiting Europa Research Base. ${orbitalDescriptions.Europa}`);
            populateDestinations(europaSubDestinations);
            appendLog("System: Accessing Europa sectors. Select your sub-destination.");
            return;
          }

          // Mars submenu
          if (dest.key === 'Mars') {
            currentLocation = 'MarsHub';
            appendLog(`System: Orbiting Mars Colony Alpha. ${orbitalDescriptions.Mars}`);
            populateDestinations(marsSubDestinations);
            appendLog("System: Accessing Mars sectors. Select your sub-destination.");
            return;
          }

          // Vega submenu - show orbital description first, then sub-destinations
          if (dest.key === 'Vega') {
            currentLocation = 'VegaHub';
            appendLog(`System: Orbiting Vega Prime. ${orbitalDescriptions.Vega}`);
            populateDestinations(vegaSubDestinations);
            return;
          }

          // Jupiter main destination - no sub destinations, just orbital log
          if (dest.key === 'Jupiter') {
            currentLocation = 'JupiterOrbital';
            appendLog(`System: Orbiting Jupiter Orbital Station. ${orbitalDescriptions.Jupiter}`);
            return;
          }

          // Andromeda main destination - no sub destinations, just orbital log
          if (dest.key === 'Andromeda') {
            currentLocation = 'AndromedaOutpost';
            appendLog(`System: Orbiting Andromeda Outpost. ${orbitalDescriptions.Andromeda}`);
            return;
          }

          // Earth sub-destination travel (train)
          if (
            (currentLocation === 'EarthHub' || earthKeys.includes(currentLocation)) &&
            earthKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            appendLog(`System: Boarding the train to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (earthSectorDescriptions[dest.key]) {
                appendLog(earthSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);

            return;
          }

          // Europa sub-destination travel (rover only for Research Base)
          if (
            (currentLocation === 'EuropaHub' || europaKeys.includes(currentLocation)) &&
            europaKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            // Rover only to ResearchBase, else instant arrival (no travel)
            if (dest.key === 'ResearchBase') {
              appendLog(`System: Boarding the rover to ${dest.name}...`);
              setTimeout(() => {
                appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
                if (europaSectorDescriptions[dest.key]) {
                  appendLog(europaSectorDescriptions[dest.key]);
                }
                traveling = false;
                currentLocation = dest.key;
                allButtons.forEach(b => b.disabled = false);
              }, 3000);
            } else {
              // For GroundCamp and Ruins: instant arrival
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (europaSectorDescriptions[dest.key]) {
                appendLog(europaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }

            return;
          }

          // Mars sub-destination travel (shuttle)
          if (
            (currentLocation === 'MarsHub' || marsKeys.includes(currentLocation)) &&
            marsKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            appendLog(`System: Boarding the shuttle to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (marsSectorDescriptions[dest.key]) {
                appendLog(marsSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);

            return;
          }

          // Vega sub-destination travel
          if (
            (currentLocation === 'VegaHub' || vegaKeys.includes(currentLocation)) &&
            vegaKeys.includes(dest.key)
          ) {
            traveling = true;
            const allButtons = destList.querySelectorAll('button');
            allButtons.forEach(b => {
              b.disabled = true;
              b.classList.remove('selected');
            });
            btn.classList.add('selected');

            const destinationObj = vegaSubDestinations.find(d => d.key === dest.key);
            const travelType = destinationObj?.type || 'shuttle';

            if (travelType === 'orbit') {
              // Instant arrival at orbit points
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (vegaSectorDescriptions[dest.key]) {
                appendLog(vegaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
              return;
            }

            const travelVerb = travelType === 'rover' ? 'rover' : 'shuttle';
            appendLog(`System: Boarding the ${travelVerb} to ${dest.name}...`);

            setTimeout(() => {
              appendLog(`System: Arrived at ${dest.name}. Enjoy your expedition.`);
              if (vegaSectorDescriptions[dest.key]) {
                appendLog(vegaSectorDescriptions[dest.key]);
              }
              traveling = false;
              currentLocation = dest.key;
              allButtons.forEach(b => b.disabled = false);
            }, 3000);

            return;
          }

          // MAIN DESTINATION zero-point travel ONLY
          traveling = true;
          const allButtons = destList.querySelectorAll('button');
          allButtons.forEach(b => {
            b.disabled = true;
            b.classList.remove('selected');
          });
          btn.classList.add('selected');

          appendLog(`System: Initiating zero-point travel to ${dest.name}...`);

          setTimeout(() => {
            appendLog(`System: Zero-point travel finished, welcome to ${dest.name}. Enjoy your expedition.`);
            traveling = false;
            currentLocation = dest.key;
            allButtons.forEach(b => b.disabled = false);
          }, 3000);
        });
      });
    }

    function appendLog(text) {
      const line = document.createElement('div');
      line.textContent = text;
      logEl.appendChild(line);
      logEl.scrollTop = logEl.scrollHeight;
    }

    onBtn.addEventListener('click', () => {
      loginScreen.classList.add('hidden');
      travelScreen.classList.remove('hidden');
      appendLog('System: Welcome, Captain. Please select a destination.');
      populateDestinations(mainDestinations);
    });

    function populateDestinations(destinations) {
      createButtons(destinations);
    }
  </script>
</body>
</html>
